"""
Тип ошибки 4: Отрицательные индексы в очереди

Очередь работает только с добавлением и удалением элементов с её концов.
Попытка обратиться к элементу через отрицательный индекс вызовет ошибку логики.
"""

from collections import deque

queue = deque([1, 2, 3])
print(queue[-1])  # Получаем доступ к последнему элементу
queue.popleft()  # Удаляем элемент из начала
print(queue[-1])

"""
Решение:
Не используйте отрицательные индексы, работайте с удалением через popleft().
"""

queue = deque([1, 2, 3])
while queue:
    print(queue.popleft())  # Последовательно удаляем элементы
